### 在开发过程中遇到的问题

在开发过程中其实最重要的就是对整个流程的理解。
1. 首先整个项目采用reactor模式，在整个项目中存在一个专门用户接受连接的Acceptor，当然再本身写的时候就是使用一个普通的channel和EventLoop来封装。
2. 接受完了一个TCP连接之后，就需要对接受的那个connection fd进行读写，项目里采用的是线程池轮询的方式来处理连接，每个连接对应一个channel，每个channel属于一个EventLoop，每个EventLoop存在一个epoll来监听这些事件。
3. 定时器事件也封装成epoll事件来进行监听，只不过是采用懒惰检测的方式，也就是在每次激活之后判断是否过时，如果过时才将此事件进行删除。
4. 项目中采用的是LT模式，因为控制起来比较方便，也可以采用ET模式，但是ET模式在每次读或者写之后会导致对应的文件描述符不活跃，因此需要重新添加到epoll中。

### 在测试过程中的问题

项目里面封装的是一个静态资源web服务器，所有静态资源存放在static文件夹中，测试主要用到了下面几个开源工具：
1. ab：使用ab测试的时候一切正常，这里主要测试的是长连接下的效率, 打开LOG显示free(): corrupted unsorted chunks.
2. webbench：在进行压测的时候出现了大量的free(): double free detected in tcache 2问题。